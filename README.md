# semcorp-erp-microservices
Technical Assessment: Senior Backend &amp; Infrastructure Engineer

Part 2: DevOps & Infrastructure Design:
<img width="1053" height="595" alt="image" src="https://github.com/user-attachments/assets/b3d675c5-ea49-41f0-9429-f62222df4b67" />


Part 3: Code Review & Mentorship Simulation Security Issue — SQL Injection Vulnerability Problem: The query is built using string concatenation: var cmd = new SqlCommand("SELECT * FROM Orders WHERE OrderId = '" + orderId + "'", conn); This allows a malicious user to inject SQL. Example : orderId = "123'; DROP TABLE Orders; --") Explanation to the junior dev: Always use parameterized queries (or stored procedures). Never trust client inputs. Security Issue — Hardcoded Credentials in Code Problem: The connection string is directly embedded in the code: new SqlConnection("Server=myServer;Database=myDataBase;User Id=myUsername;Password=myPassword;") Risks: Credentials can leak through Git history or logs. Violates OWASP recommendations for secrets handling. Explanation to the junior dev: Use configuration, environment variables, or a secret manager. Performance / API Design Issue — Returning SqlDataReader Directly Problem: The controller directly queries the database and returns a SqlDataReader in the API response. Issue: The API layer should not access the database directly. It should call a Service Layer, which then calls a Data Access Layer (Repository). SqlDataReader cannot be serialized to JSON and becomes invalid once the database connection is closed. Returning raw database structures exposes internal schema and risks over-posting. Explanation to the junior dev: In proper architecture, the API should only handle HTTP requests and responses. Database access belongs in the Data Access Layer, and business logic belongs in the Service Layer. You should materialize the data (e.g., into objects), map it into DTOs, and then return those DTOs from the API. This prevents serialization issues, avoids leaking internal database structures, and ensures only safe, intended fields are exposed in the response.
